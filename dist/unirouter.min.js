!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("redux")):"function"==typeof define&&define.amd?define(["react","redux"],e):"object"==typeof exports?exports.unirouter=e(require("react"),require("redux")):t.unirouter=e(t.React,t.ReactRedux)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.reducer=e.Link=e.init=e.NAVIGATE=e.navigate=void 0;var o=n(1);Object.defineProperty(e,"navigate",{enumerable:!0,get:function(){return o.navigate}});var u=n(2);Object.defineProperty(e,"NAVIGATE",{enumerable:!0,get:function(){return u.NAVIGATE}});var i=n(8),a=r(i),c=n(7),f=r(c),s=n(9),l=r(s);e.init=a.default,e.Link=f.default,e.reducer=l.default},function(t,e,n){"use strict";e.__esModule=!0,e.navigate=void 0;var r=n(6),o=n(2);e.navigate=(0,r.createAction)(o.NAVIGATE,function(t){return"undefined"!=typeof history&&(t.push?history.pushState({},null,t.url):t.replace&&history.replaceState({},null,t.url)),t})},function(t,e){"use strict";e.__esModule=!0;e.NAVIGATE="NAVIGATE"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){c=(0,a.default)(t,e)}function u(){return c}e.__esModule=!0,e.configureRouter=o,e.default=u;var i=n(20),a=r(i),c=(0,a.default)()},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&u(l(t))}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&s>=t}function i(t){return n(t)&&o(t)&&c.call(t,"callee")&&!f.call(t,"callee")}var a=Object.prototype,c=a.hasOwnProperty,f=a.propertyIsEnumerable,s=9007199254740991,l=r("length");t.exports=i},function(t,e,n){"use strict";function r(t){return"function"==typeof t}function o(t,e){return function(n,o){if(o.type!==t)return n;var i=u.isError(o)?"throw":"next";r(e)&&(e.next=e);var a=e[i];return r(a)?a(n,o):n}}e.__esModule=!0,e.default=o;var u=n(11);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(17),u=r(o),i=n(5),a=r(i),c=n(18),f=r(c);e.createAction=u.default,e.handleAction=a.default,e.handleActions=f.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.__esModule=!0,e.Link=void 0;var s=n(22),l=n(1),p=o(l),d=n(21),y=r(d),h=n(3),v=r(h),g=e.Link=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return c(e,t),e.prototype.handleClick=function(t,e){t.preventDefault(),this.props.navigate({url:e,push:!0})},e.prototype.render=function(){var t=this,e=this.props,n=e.href,r=e.name,o=e.options,i=u(e,["href","name","options"]),a=(0,v.default)().generate(r,o);return y.default.createElement("a",f({href:n||a,onClick:function(e){return t.handleClick(e,a)}},i),this.props.children)},e}(y.default.Component);g.propTypes={children:d.PropTypes.node,href:d.PropTypes.string,name:d.PropTypes.string.isRequired,navigate:d.PropTypes.func.isRequired,options:d.PropTypes.object},e.default=(0,s.connect)(function(){return{}},p)(g)},function(t,e,n){"use strict";function r(t,e,n){var r=(0,u.getUrl)(t);(0,o.configureRouter)(e,n),t.dispatch((0,i.navigate)({url:r,source:"init"})),"undefined"!=typeof window&&(window.onpopstate=a(t))}e.__esModule=!0,e.handlePopState=void 0,e.default=r;var o=n(3),u=n(10),i=n(1),a=e.handlePopState=function(t){return function(){var e=(0,u.getUrl)(t);t.dispatch((0,i.navigate)({url:e,push:!0,source:"popState"}))}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return{route:(0,s.default)().lookup(t),url:t}}var u,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.__esModule=!0,e.routeState=o;var a=n(6),c=n(2),f=n(3),s=r(f),l={url:null,route:null};e.default=(0,a.handleActions)((u={},u[c.NAVIGATE]=function(t,e){return i({},t,o(e.payload.url))},u),l)},function(t,e){"use strict";function n(t){return"undefined"!=typeof window&&window.location?window.location.pathname+window.location.search:t.getState().router.url}e.__esModule=!0,e.getUrl=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return f.indexOf(t)>-1}function u(t){return c.default(t)&&"undefined"!=typeof t.type&&Object.keys(t).every(o)}function i(t){return t.error===!0}e.__esModule=!0,e.isFSA=u,e.isError=i;var a=n(14),c=r(a),f=["type","payload","error","meta"]},function(t,e){function n(t){return function(e,n,o){for(var u=r(e),i=o(e),a=i.length,c=t?a:-1;t?c--:++c<a;){var f=i[c];if(n(u[f],f,u)===!1)break}return e}}function r(t){return o(t)?t:Object(t)}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=n();t.exports=u},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function u(t){return i(t)&&y.call(t)==f}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:u(t)?h.test(p.call(t)):n(t)&&s.test(t)}var c="[object Array]",f="[object Function]",s=/^\[object .+?Constructor\]$/,l=Object.prototype,p=Function.prototype.toString,d=l.hasOwnProperty,y=l.toString,h=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=r(Array,"isArray"),g=9007199254740991,b=v||function(t){return n(t)&&o(t.length)&&y.call(t)==c};t.exports=b},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t,e){return i(t,e,c)}function u(t){var e;if(!r(t)||p.call(t)!=f||a(t)||!l.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return o(t,function(t,e){n=e}),void 0===n||l.call(t,n)}var i=n(12),a=n(4),c=n(15),f="[object Object]",s=Object.prototype,l=s.hasOwnProperty,p=s.toString;t.exports=u},function(t,e,n){function r(t,e){return t="number"==typeof t||f.test(t)?+t:-1,e=null==e?p:e,t>-1&&t%1==0&&e>t}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&p>=t}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&o(e)&&(c(t)||a(t))&&e||0;for(var n=t.constructor,i=-1,f="function"==typeof n&&n.prototype===t,s=Array(e),p=e>0;++i<e;)s[i]=i+"";for(var d in t)p&&r(d,e)||"constructor"==d&&(f||!l.call(t,d))||s.push(d);return s}var a=n(4),c=n(13),f=/^\d+$/,s=Object.prototype,l=s.hasOwnProperty,p=9007199254740991;t.exports=i},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t,n){return e.reduce(function(t,e){return e(t,n)},t)}}e.__esModule=!0,e.default=n,t.exports=e.default},function(t,e){"use strict";function n(t){return t}function r(t,e,r){var o="function"==typeof e?e:n;return function(){var e={type:t,payload:o.apply(void 0,arguments)};return"function"==typeof r&&(e.meta=r.apply(void 0,arguments)),e}}e.__esModule=!0,e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=c.default(t).map(function(e){return i.default(e,t[e])});return"undefined"!=typeof e?function(t,r){return void 0===t&&(t=e),s.default.apply(void 0,n)(t,r)}:s.default.apply(void 0,n)}e.__esModule=!0,e.default=o;var u=n(5),i=r(u),a=n(19),c=r(a),f=n(16),s=r(f);t.exports=e.default},function(t,e){"use strict";function n(t){if("undefined"!=typeof Reflect)return Reflect.ownKeys(t);var e=Object.getOwnPropertyNames(t);return"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e}e.__esModule=!0,e.default=n,t.exports=e.default},function(t,e){!function(e){function n(t,e){if(!t){var n=[].slice.call(arguments,2),r=0;throw new Error("Unirouter Assertion Failed: "+e.replace(/%s/g,function(){return n[r++]}))}}function r(t){return""==t?[]:t.toLowerCase().split("/")}function o(t){var e=t.split(/\s+/),o=e[0],u=e[1];return n(2==e.length,"Route `%s` separates method and path with a single block of whitespace",t),n(/^[A-Z]+$/.test(o),"Route `%s` starts with an UPPERCASE method",t),n(!/\/{2,}/.test(u),"Path `%s` has no adjacent `/` characters: `%s`",u),n("/"==u[0],"Path `%s` must start with the `/` character",u),n("/"==u||!/\/$/.test(u),"Path `%s` does not end with the `/` character",u),n(-1===u.indexOf("#")&&-1===u.indexOf("?"),"Path `%s` does not contain the `#` or `?` characters",u),r(u.slice(1)).concat(o)}function u(){this.tree={}}function i(t,e){return t&&(t[e]||t[":"])}function a(t,e){var i,a,c,f={},s=new u;e=e||{};for(a in t)t.hasOwnProperty(a)&&(c=t[a],n("string"==typeof c,"Route '%s' must be a string",a),n(-1==a.indexOf("."),"Route names must not contain the '.' character",a),i=o(c),f[a]=i.map(function(t,e){return":"==t[0]&&[t.substr(1),e]}).filter(function(t){return t}),s.add(i,a));for(c in e)e.hasOwnProperty(c)&&(a=e[c],n(t[a],"Alias from '%s' to non-existent route '%s'.",c,a),s.add(o(c),a));return{lookup:function(t,e){e=e?e.toUpperCase():"GET";var n,o,u,i,a=t.replace(/^\/|\/($|\?)/g,"").replace(/#.*$/,"").split("?",2),c=r(a[0]).map(decodeURIComponent).concat(e),l=s.find(c),p={};for(u=f[l]||[],i=a[1]?a[1].split("&"):[],n=0;n!=i.length;n++)o=i[n].split("="),p[o[0]]=decodeURIComponent(o[1]);for(n=0;n!=u.length;n++)o=u[n],p[o[0]]=c[o[1]];return{name:l,options:p}},generate:function(e,r){r=r||{};var o,u=f[e]||[],i=u.map(function(t){return t[0]}),a=t[e],c=[],s=[];n(a,"No route with name `%s` exists",e);var l=a.split(" ")[1];for(o in r)r.hasOwnProperty(o)&&(-1===i.indexOf(o)?(n(/^[a-zA-Z0-9-_]+$/.test(o),"Non-route parameters must use only the following characters: A-Z, a-z, 0-9, -, _"),c.push(o+"="+encodeURIComponent(r[o]))):s.push(o));n(s.sort().join()==i.slice(0).sort().join(),"You must specify options for all route params when using `uri`.");var p=i.reduce(function(t,e){return t.replace(":"+e,encodeURIComponent(r[e]))},l);return c.length&&(p+="?"+c.join("&")),p}}}u.prototype.find=function(t){return(t.reduce(i,this.tree)||{})[""]},u.prototype.add=function(t,e){var r,o,u=t.map(function(t){return":"==t[0]?":":t}),i=this.tree;for(r=0;r<u.length;r++)o=u[r],i[o]||(i[o]={}),i=i[o];n(!i[o],"Path `%s` conflicts with another path",t.join("/")),i[""]=e},"undefined"!=typeof t&&t.exports?t.exports=a:e.unirouter=a}(this)},function(e,n){e.exports=t},function(t,n){t.exports=e}])});
//# sourceMappingURL=unirouter.min.js.map