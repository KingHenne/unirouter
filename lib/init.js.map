{"version":3,"sources":["../src/init.js"],"names":[],"mappings":";;;;kBASwB,IAAI;;;;;;;;AALrB,IAAM,cAAc,WAAd,cAAc,GAAG,SAAjB,cAAc,CAAG,KAAK;SAAI,YAAM;AAC3C,QAAM,GAAG,GAAG,WAJN,MAAM,EAIO,KAAK,CAAC,CAAA;AACzB,SAAK,CAAC,QAAQ,CAAC,aAJT,QAAQ,EAIU,EAAC,GAAG,EAAH,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAC,CAAC,CAAC,CAAA;GAChE;CAAA,CAAA;;AAEc,SAAS,IAAI,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE;AACnD,MAAM,GAAG,GAAG,WATN,MAAM,EASO,KAAK,CAAC,CAAA;;AAEzB,cAZM,eAAe,EAYL,MAAM,EAAE,OAAO,CAAC,CAAA;;AAEhC,OAAK,CAAC,QAAQ,CAAC,aAZT,QAAQ,EAYU,EAAC,GAAG,EAAH,GAAG,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC,CAAA;;AAE/C,MAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AACjC,UAAM,CAAC,UAAU,GAAG,cAAc,CAAC,KAAK,CAAC,CAAA;GAC1C;CACF","file":"init.js","sourcesContent":["import {configureRouter} from './router'\nimport {getUrl} from './utils'\nimport {navigate} from './actions'\n\nexport const handlePopState = store => () => {\n  const url = getUrl(store)\n  store.dispatch(navigate({url, push: true, source: 'popState'}))\n}\n\nexport default function init(store, routes, aliases) {\n  const url = getUrl(store)\n\n  configureRouter(routes, aliases)\n\n  store.dispatch(navigate({url, source: 'init'}))\n\n  if (typeof window !== 'undefined') {\n    window.onpopstate = handlePopState(store)\n  }\n}\n"]}