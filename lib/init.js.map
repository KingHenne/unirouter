{"version":3,"sources":["../src/init.js"],"names":[],"mappings":";;;;kBASwB;;AATxB;;AACA;;AACA;;AAEO,IAAM,0CAAiB,SAAjB,cAAiB;SAAS,YAAM;AAC3C,QAAM,MAAM,mBAAO,KAAP,CAAN,CADqC;AAE3C,UAAM,QAAN,CAAe,uBAAS,EAAC,QAAD,EAAM,MAAM,IAAN,EAAY,QAAQ,UAAR,EAA3B,CAAf,EAF2C;GAAN;CAAT;;AAKf,SAAS,IAAT,CAAc,KAAd,EAAqB,MAArB,EAA6B,OAA7B,EAAsC;AACnD,MAAM,MAAM,mBAAO,KAAP,CAAN,CAD6C;;AAGnD,+BAAgB,MAAhB,EAAwB,OAAxB,EAHmD;;AAKnD,QAAM,QAAN,CAAe,uBAAS,EAAC,QAAD,EAAM,QAAQ,MAAR,EAAf,CAAf,EALmD;;AAOnD,MAAI,OAAO,MAAP,KAAkB,WAAlB,EAA+B;AACjC,WAAO,UAAP,GAAoB,eAAe,KAAf,CAApB,CADiC;GAAnC;CAPa","file":"init.js","sourcesContent":["import {configureRouter} from './router'\nimport {getUrl} from './utils'\nimport {navigate} from './actions'\n\nexport const handlePopState = store => () => {\n  const url = getUrl(store)\n  store.dispatch(navigate({url, push: true, source: 'popState'}))\n}\n\nexport default function init(store, routes, aliases) {\n  const url = getUrl(store)\n\n  configureRouter(routes, aliases)\n\n  store.dispatch(navigate({url, source: 'init'}))\n\n  if (typeof window !== 'undefined') {\n    window.onpopstate = handlePopState(store)\n  }\n}\n"]}