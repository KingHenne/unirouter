{"version":3,"sources":["../src/init.js"],"names":[],"mappings":";;;;;QAGgB,MAAM,GAAN,MAAM;QAON,cAAc,GAAd,cAAc;kBAKN,IAAI;;;;IAfhB,OAAO;;;;;;;;;;AAGZ,SAAS,MAAM,GAA2B;MAA1B,SAAS,yDAAG,KAAK;MAAE,KAAK;;AAC7C,MAAI,SAAS,EAAE;AACb,WAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,GAAG,CAAA;GACnC;AACD,SAAO,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAA;CACzD;;AAEM,SAAS,cAAc,CAAC,KAAK,EAAE;AACpC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAA;AACpB,OAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,EAAC,GAAG,EAAH,GAAG,EAAE,MAAM,EAAE,UAAU,EAAC,CAAC,CAAC,CAAA;CAC9D;;AAEc,SAAS,IAAI,CAAC,KAAK,EAAE,MAAM,EAAE;AAC1C,MAAM,GAAG,GAAG,MAAM,EAAE,CAAA;AACpB,OAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,EAAC,GAAG,EAAH,GAAG,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC,CAAA;AACzD,QAAM,CAAC,UAAU,GAAG,qBAAM,cAAc,CAAC,CAAC,KAAK,CAAC,CAAA;CACjD","file":"init.js","sourcesContent":["import * as actions from './actions'\nimport curry from 'curry'\n\nexport function getUrl(universal = false, store) {\n  if (universal) {\n    return store.getState().router.url\n  }\n  return window.location.pathname + window.location.search\n}\n\nexport function handlePopState(store) {\n  const url = getUrl()\n  store.dispatch(actions.urlChanged({url, source: 'popState'}))\n}\n\nexport default function init(store, routes) {\n  const url = getUrl()\n  store.dispatch(actions.urlChanged({url, source: 'init'}))\n  window.onpopstate = curry(handlePopState)(store)\n}\n"]}