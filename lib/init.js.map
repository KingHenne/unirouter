{"version":3,"sources":["../src/init.js"],"names":[],"mappings":";;;;kBASwB,I;;AATxB;;AACA;;AACA;;AAEO,IAAM,0CAAiB,SAAjB,cAAiB;AAAA,SAAS,YAAM;AAC3C,QAAM,MAAM,mBAAO,KAAP,CAAZ;AACA,UAAM,QAAN,CAAe,uBAAS,EAAC,QAAD,EAAM,MAAM,IAAZ,EAAkB,QAAQ,UAA1B,EAAT,CAAf;AACD,GAH6B;AAAA,CAAvB;;AAKQ,SAAS,IAAT,CAAc,KAAd,EAAqB,MAArB,EAA6B,OAA7B,EAAsC;AACnD,MAAM,MAAM,mBAAO,KAAP,CAAZ;;AAEA,+BAAgB,MAAhB,EAAwB,OAAxB;;AAEA,QAAM,QAAN,CAAe,uBAAS,EAAC,QAAD,EAAM,QAAQ,MAAd,EAAT,CAAf;;AAEA,MAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAO,UAAP,GAAoB,eAAe,KAAf,CAApB;AACD;AACF","file":"init.js","sourcesContent":["import {configureRouter} from './router'\nimport {getUrl} from './utils'\nimport {navigate} from './actions'\n\nexport const handlePopState = store => () => {\n  const url = getUrl(store)\n  store.dispatch(navigate({url, push: true, source: 'popState'}))\n}\n\nexport default function init(store, routes, aliases) {\n  const url = getUrl(store)\n\n  configureRouter(routes, aliases)\n\n  store.dispatch(navigate({url, source: 'init'}))\n\n  if (typeof window !== 'undefined') {\n    window.onpopstate = handlePopState(store)\n  }\n}\n"]}