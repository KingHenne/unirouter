{"version":3,"sources":["../src/reducer.js"],"names":[],"mappings":";;;;;;;;;QAKgB,UAAU,GAAV,UAAU;;;;;;;;;;;;;;;;AAAnB,SAAS,UAAU,CAAC,GAAG,EAAE;AAC9B,SAAO,EAAC,KAAK,EAAE,iBAAO,MAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAH,GAAG,EAAC,CAAA;CACxC;;kBAEc,kBARP,aAAa,+DACb,WAAW,EAQF,UAAC,KAAK,EAAE,MAAM,EAAK;AAChC,SAAO,SAAc,EAAE,EAAE,KAAK,EAAE,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAA;CAChE,0CAVkB,QAAQ,EAWf,UAAC,KAAK,EAAE,MAAM,EAAK;AAC7B,MAAI,WAdA,MAAM,GAcE,KAAK,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE;AACnC,QAAI,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE;AACzB,aAAO,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;KACnD,MAAM;AACL,aAAO,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;KAChD;;AAED,WAAO,SAAc,EAAE,EAAE,KAAK,EAAE,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAA;GAChE;AACD,SAAO,KAAK,CAAA;CACb,mBACD","file":"reducer.js","sourcesContent":["import {getUrl} from './utils'\nimport {handleActions} from 'redux-actions'\nimport {URL_CHANGED, NAVIGATE} from '../src/index'\nimport router from '../src/router'\n\nexport function routeState(url) {\n  return {route: router.lookup(url), url}\n}\n\nexport default handleActions({\n  [URL_CHANGED]: (state, action) => {\n    return Object.assign({}, state, routeState(action.payload.url))\n  },\n  [NAVIGATE]: (state, action) => {\n    if (getUrl() !== action.payload.url) {\n      if (action.payload.silent) {\n        history.replaceState({}, null, action.payload.url)\n      } else {\n        history.pushState({}, null, action.payload.url)\n      }\n\n      return Object.assign({}, state, routeState(action.payload.url))\n    }\n    return state\n  },\n})\n"]}